# 110.平衡二叉树

---- Lee

## 一、题目

给定一个二叉树，判断它是否是高度平衡的二叉树。

本题中，一棵高度平衡二叉树定义为：一个二叉树每个节点 的左右两个子树的高度差的绝对值不超过1。

示例 1:

给定二叉树 [3,9,20,null,null,15,7]

![110.平衡二叉树](https://file1.kamacoder.com/i/algo/2021020315542230.png)

返回 true 。

示例 2:

给定二叉树 [1,2,2,3,3,null,null,4,4]

![110.平衡二叉树1](https://file1.kamacoder.com/i/algo/20210203155447919.png)

返回 false 

[力扣题目链接(opens new window)](https://leetcode.cn/problems/balanced-binary-tree/)

## 二、思路

* 递归三要素：
* 函数返回值类型和参数类型：返回当前节点高度（若存在高度差超过1，返回-1），参数为当前节点

```cpp
int depth(TreeNode* cur);
```

* 终止条件：遇到空节点返回0

```cpp
if (NULL == cur) return 0;
```

* 单次递归要执行的内容：获取左右子树的高度，若存在`-1`，直接返回。对二者之差取绝对值，若大于1，返回-1。若在规定范围内，则取二者中最大值+1返回。

```cpp
int leftDepth = depth(cur->left);
if (-1 == leftDepth){
    return -1;
}
int rightDepth = depth(cur->right);
if (-1 == rightDepth){
    return -1;
}

// 若当前节点的左右子树高度差大于1
if (abs(leftDepth - rightDepth) > 1){
    return -1;
}

return 1 + max(leftDepth, rigthDepth);
```

## 三、代码

```cpp
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    int depth(TreeNode* cur){
        if (NULL == cur){
            return 0;
        }

        int leftDepth = depth(cur->left);
        if (-1 == leftDepth){
            return -1;
        }
        int rigthDepth = depth(cur->right);
        if (-1 == rigthDepth){
            return -1;
        }

        // 左右子树高度差绝对值大于1
        if (abs(leftDepth - rigthDepth) > 1){
            return -1;
        }

        return 1 + max(leftDepth, rigthDepth);
    }

    bool isBalanced(TreeNode* root) {
        if(NULL == root){
            return true;
        }

        int treeDepth = depth(root);
        if (-1 == treeDepth)
        {
            return false;
        }
        return true;
    }
};
```

