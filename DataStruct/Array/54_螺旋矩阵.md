# 54_螺旋矩阵

---- Lee

***

## 一、题目

给你一个 `m` 行 `n` 列的矩阵 `matrix` ，请按照 **顺时针螺旋顺序** ，返回矩阵中的所有元素。

**示例 1：**

![img](https://assets.leetcode.com/uploads/2020/11/13/spiral1.jpg)

```
输入：matrix = [[1,2,3],[4,5,6],[7,8,9]]
输出：[1,2,3,6,9,8,7,4,5]
```

**示例 2：**

![img](https://assets.leetcode.com/uploads/2020/11/13/spiral.jpg)

```
输入：matrix = [[1,2,3,4],[5,6,7,8],[9,10,11,12]]
输出：[1,2,3,4,8,12,11,10,9,5,6,7]
```

**提示：**

- `m == matrix.length`
- `n == matrix[i].length`
- `1 <= m, n <= 10`
- `-100 <= matrix[i][j] <= 100`

## 二、思路

* 过程模拟。注意边界条件限制。
* 对于奇数行矩阵，
  * 上侧：从左向右已经填充完毕
  * 右侧：在`top + 1 < bottom`已经规避
  * 下侧：进行向左位移，所以要添加`top  != bottom`拦截
  * 左侧：向上位移，添加`left != right`进行拦截

* 左侧的移动：
  * 是`bottom`的上一行：`int i = bottom - 1;`
  * 边界是 > top：`i > top && left != right`; top已经在上侧被填充了。


## 三、代码

```cpp
/**
 * @file matrix.cpp
 * @brief LeetCode problem #54 - Spiral Matrix
 * @author Lee
 * @date 2025-12-12
 * 
 */

#include <iostream>
#include <vector>

using namespace std;

vector<int> spiralOrder(const vector<vector<int>>& matrix)
{
    if (matrix.empty()){
        return {};
    }

    // 设置边界条件
    int left = 0;
    int right = matrix[0].size() - 1;
    int top = 0;
    int bottom = matrix.size() - 1;

    // 设置结果
    vector<int> res;

    while(left <= right && top <= bottom){
        // 上侧：从左到右
        for (int i = left; i <= right; i++)
        {
            res.push_back(matrix[top][i]);
        }

        // 右侧：从上到下
        for (int j = top + 1; j <= bottom; j++)
        {
            res.push_back(matrix[j][right]);
        }

        // 下侧：从右向左；注意规避若只传入奇数行，重复填入的问题（top < bottom）
        for (int i = right - 1; i >= left && top != bottom; i--){
            res.push_back(matrix[bottom][i]);
        }
        
        // 左侧：从下到上；注意规避若只传入奇数行，重复添加问题（left < right）
        for (int j = bottom - 1; j > top && left != right; j--){
            res.push_back(matrix[j][left]);
        }

        // 缩小边界
        left++;
        right--;
        top++;
        bottom--;
    }
    return res;
}

/***
 * @brief 主函数
 * 测试spiralOrder函数
 * 
 */
int main()
{
    vector<vector<int>> matrix = {
        {1, 2, 3}
    };

    vector<int> result = spiralOrder(matrix);

    cout << "Spiral Order: ";
    for (int num : result) {
        cout << num << " ";
    }
    cout << endl;

    return 0;
}
```

